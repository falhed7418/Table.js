<!DOCTYPE html>
<!--
	Developed by Johannes Giere, jogiere AT gmail DOT com
-->
<html lang="de">
	<head>
		<title></title>
		
		<script src="../schedule.js"></script>
		<script src="template.html"></script>
	</head>
	<body onload="doIt()">
		<script>
			
			function doIt() {
				var elements = [
					{
						'day': '2. Sonntag nach Weihnachten',
						'date': '05.01.2014',
						'time': '10:30',
						'place': 'Kirche Timmerlah'
					},
					{
						'day': 'Mittwoch, Neujahrstag',
						'date': '01.01.2014',
						'time': '11:00',
						'place': 'Kirche Sonnenberg'
					},
					{
						'day': '2. Sonntag nach Weihnachten',
						'date': '05.01.2014',
						'time': '11:30',
						'place': 'Kirche Sonnenberg'
					}
				];
				
				var elementKeys = ["day", "date", "time", "place"];
				
				var templateUrl = 'template.html';
				
				schedule = new Schedule(elements, elementKeys, templateUrl);
				document.getElementById("listView").innerHTML = schedule.View;
			}
			
			function search() {
				var phrase = document.getElementById('searchText').value;
				
				if(phrase != '') {
					var searchResult = schedule.search(phrase);
					document.getElementById("listView").innerHTML = schedule.redrawView(searchResult);
				} else {
					document.getElementById("listView").innerHTML = schedule.redrawView(schedule.Elements);
				}
			}
			
			function sortBasedOnDateAsc() {
				document.getElementById("listView").innerHTML = schedule.redrawView(schedule.sort(schedule.Elements, 'date', { asc: true, type:'datetime' } ));
			}
			function sortBasedOnDateDesc() {
				document.getElementById("listView").innerHTML = schedule.redrawView(schedule.sort(schedule.Elements, 'date', { asc: false, type:'datetime' } ));
			}
		</script>
		
		<input type="text" placeholder="Search" id="searchText"/>
		<button onclick="search()">Search</button>
		
		
		
		<button onclick="sortBasedOnDateAsc()">Sort on time ASC</button>
		<button onclick="sortBasedOnDateDesc()">Sort on time DESC</button>
		
		
		<div id="listView">
			
		</div>
	</body>
</html>